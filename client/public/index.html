<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#ff5348">
    <title>The Best Retro | The grass is greener where you water it</title>
    <meta name="description"
        content="Retros should be about conversation. This site facilitates those conversations without getting in your way">

    <link rel="shortcut icon" href="favicon.ico">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon_io/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon_io/android-chrome-512x512.png" sizes="512x512">
    <link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon_io/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon_io/favicon-32x32.png" sizes="32x32">

    <style>
        @keyframes wait {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 0;
            }
        }

        @-moz-keyframes wait {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 0;
            }
        }

        @-webkit-keyframes wait {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 0;
            }
        }

        @-o-keyframes wait {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 0;
            }
        }

        @-ms-keyframes wait {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes slideUp {
            0% {
                transform: translate3d(0, 40px, 0);
            }

            100% {
                transform: translate3d(0, 0, 0);
            }
        }

        @-moz-keyframes slideUp {
            0% {
                transform: translate3d(0, 40px, 0);
            }

            100% {
                transform: translate3d(0, 0, 0);
            }
        }

        @-webkit-keyframes slideUp {
            0% {
                transform: translate3d(0, 40px, 0);
            }

            100% {
                transform: translate3d(0, 0, 0);
            }
        }

        @-o-keyframes slideUp {
            0% {
                transform: translate3d(0, 40px, 0);
            }

            100% {
                transform: translate3d(0, 0, 0);
            }
        }

        @-ms-keyframes slideUp {
            0% {
                transform: translate3d(0, 40px, 0);
            }

            100% {
                transform: translate3d(0, 0, 0);
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @-moz-keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @-webkit-keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @-o-keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @-ms-keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

    </style>
</head>

<body>
    <main id="root"></main>
    <script src="/retro-boards.js"></script>
    <script>
        const userKey = 'user-v1'
        const storedUser = JSON.parse(localStorage.getItem(userKey))

        const app =
            Elm.Main.init({
                node: document.getElementById('root'),
                flags: {}
            })

        window.app = app

        app.ports.storeUser.subscribe(function (user) {
            const stringifiedUser = JSON.stringify(user)
            localStorage.setItem(userKey, stringifiedUser)

            app.ports.userLoaded.send(JSON.parse(stringifiedUser))
        })
    </script>
</body>

</html>
